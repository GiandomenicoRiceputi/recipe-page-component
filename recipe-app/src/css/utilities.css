@layer utilities {
    .bg-white {
        background-color: var(--color-white);
    }

    .bg-stone-100 {
        background-color: var(--color-stone-100);
    }

    .bg-rose-50 {
        background-color: var(--color-rose-50);
    }

    .text-stone-150 {
        color: var(--color-stone-150);
    }

    .text-stone-600 {
        color: var(--color-stone-600);
    }

    .text-stone-900 {
        color: var(--color-stone-900);
    }

    .text-brown-800 {
        color: var(--color-brown-800);
    }

    .text-rose-800 {
        color: var(--color-rose-800);
    }

    .font-serif {
        font-family: var(--font-serif);
    }

    .font-sans {
        font-family: var(--font-sans);
    }

    .fw-regular {
        font-weight: var(--font-weight-regular);
    }

    .fw-semibold {
        font-weight: var(--font-weight-semibold);
    }

    .fw-bold {
        font-weight: var(--font-weight-bold);
    }

    .text-size-1 {
        font-size: var(--step-1);
    }

    .text-size-2 {
        font-size: var(--step-2);
    }

    .text-size-3 {
        font-size: var(--step-3);
    }

    .mb-s {
        margin-bottom: var(--space-s);
    }

    .mb-l {
        margin-bottom: var(--space-l);
    }

    .mb-m {
        margin-bottom: var(--space-m);
    }

    .radius-m {
        border-radius: var(--radius-m);
    }

    .radius-l {
        border-radius: var(--radius-l);
    }

    /* Utility for Padding */
    .p-m {
        padding: var(--space-m);
    }

    /* Modern CSS: Marker Color */
    .rose-800 li::marker {
        color: var(--color-rose-800);
        font-weight: bold;
    }

    .marker\:fw-bold li::marker {
        font-weight: bold;
    }

    .marker\:text-brown-800 li::marker {
        color: var(--color-brown-800);
    }

    /* Ensure list style is visible */
    ul.rose-800 {
        list-style-position: inside;
        padding-left: var(--space-m);
    }

    /* Borders */
    .border-b {
        border-bottom: 1px solid var(--color-stone-100);
    }

    /* UI Polish: Shadows & Elevations */
    .shadow-l {
        box-shadow: 0 10px 30px -10px rgba(95, 87, 78, 0.15);
        /* Soft Brown shadow */
    }

    .shadow-hero {
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    /* UI Polish: Transitions */
    .transition-all {
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .hover-lift:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 20px -8px rgba(95, 87, 78, 0.2);
    }

    /* UI Polish: Loading Spinner */
    .spinner {
        width: 48px;
        height: 48px;
        border: 5px solid var(--color-stone-100);
        border-bottom-color: var(--color-brown-800);
        border-radius: 50%;
        display: inline-block;
        box-sizing: border-box;
        animation: rotation 1s linear infinite;
    }

    @keyframes rotation {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }

    /* UI Polish: Typography */
    .text-balance {
        text-wrap: balance;
    }

    .text-pretty {
        text-wrap: pretty;
    }

    /* Layout Utilities (Missing) */
    .flex {
        display: flex;
    }

    .justify-center {
        justify-content: center;
    }

    .align-center {
        align-items: center;
    }

    .min-h-screen {
        min-height: 100vh;
    }

    /* Additional Spacing */
    .p-l {
        padding: var(--space-l);
    }

    .p-xl {
        padding: var(--space-xl);
    }

    .my-xl {
        margin-block: var(--space-xl);
    }

    /* 
       âœ¨ CHOREOGRAPHED SCROLL MAGIC (2025) âœ¨ 
       Implementation with Progressive Enhancement.
    */

    @keyframes fadeLeft {
        from {
            opacity: 0;
            transform: translateX(-30px);
        }

        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes fadeRight {
        from {
            opacity: 0;
            transform: translateX(30px);
        }

        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes popCenter {
        from {
            opacity: 0;
            transform: scale(0.9);
        }

        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* 
       PLAN 2 (Fallback): Time-based entry for older browsers / no scroll-timeline.
       These run once on load.
    */
    .animate-entry {
        animation: slideInUp 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    }

    .animate-fade-left {
        opacity: 0;
        /* Start hidden */
        animation: fadeLeft 1s ease-out forwards;
        animation-delay: 0.2s;
        /* Slight delay to let main card enter */
    }

    .animate-fade-right {
        opacity: 0;
        animation: fadeRight 1s ease-out forwards;
        animation-delay: 0.4s;
    }

    .animate-pop-center {
        opacity: 0;
        animation: popCenter 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        animation-delay: 0.6s;
    }

    /* Stagger List Fallback */
    .stagger-list>li {
        opacity: 0;
        animation: slideInUp 0.8s ease-out forwards;
        animation-delay: calc(var(--i, 0) * 0.1s + 0.5s);
    }

    .stagger-list>li:nth-child(1) {
        animation-delay: 0.5s;
    }

    .stagger-list>li:nth-child(2) {
        animation-delay: 0.6s;
    }

    .stagger-list>li:nth-child(3) {
        animation-delay: 0.7s;
    }

    .stagger-list>li:nth-child(4) {
        animation-delay: 0.8s;
    }

    .stagger-list>li:nth-child(5) {
        animation-delay: 0.9s;
    }

    .stagger-list>li:nth-child(6) {
        animation-delay: 1.0s;
    }

    .stagger-list>li:nth-child(7) {
        animation-delay: 1.1s;
    }

    .stagger-list>li:nth-child(8) {
        animation-delay: 1.2s;
    }


    /* 
       ðŸš€ BRAVE: Scroll-Driven Animations 
       If support exists, override fallbacks to use scroll position.
    */
    @supports (animation-timeline: view()) {

        .animate-fade-left,
        .animate-fade-right,
        .animate-pop-center {
            /* Reset fallback props */
            opacity: 0;
            animation-delay: 0s;

            /* Bind to scroll */
            animation-timeline: view();
            animation-range: entry 10% cover 30%;
            /* Start early, finish early */
            animation-fill-mode: both;
        }

        /* 
           Specific Directional Overrides for Scroll
        */
        .animate-fade-left {
            animation-name: fadeLeft;
        }

        .animate-fade-right {
            animation-name: fadeRight;
        }

        .animate-pop-center {
            animation-name: popCenter;
        }
    }
}